!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Class=t()}(this,function(){"use strict";function n(n,t){return Array.prototype.slice.call(n,t)}function t(t){return n(t,0)}function r(){this.$super(arguments)}function e(n,t){return!(!t||!n)&&(n===t||n.superclass===t||Object.create(n.prototype)instanceof t)}function o(n){return e(this,n)}function i(n,t){var r=Object.create(n.prototype);return n.apply(r,t),r}function u(n){return"string"==typeof n}function c(n){return"function"==typeof n}function a(n){return void 0!==n&&null!==n}function f(n){return n&&"[object Arguments]"===n.toString()}function s(n){return c(n)&&e(n,A)}function l(n){return null!==n&&"object"===(void 0===n?"undefined":Y(n))}function p(n){return Array.isArray?Array.isArray(n):n instanceof Array}function h(n){var t={};return y(n).filter(function(n,t){return function(r){return n(r)&&t(r)}}(function(n){return!t[n]&&(t[n]=!0,!0)},d))}function y(n){return n===Object.prototype?[]:Object.keys(n).concat(y(Object.getPrototypeOf(n)))}function d(n){return"$super"!==n}function m(t,e){function o(n,t){var r=t["*"];delete t["*"];for(var e in t){var o=t[e],i=n[e];if(!c(i))throw new Error("You must decorate on a function");n[e]=v(o,i)}return r&&h(n).filter(function(r){return!t[r]&&c(n[r])}).forEach(function(t){n[t]=v(r,n[t])}),n}if(!t)throw new Error("cannot decorate on null or undefined");if(!e)throw new Error("decorators is undefined");if(!l(e))throw new Error("Illegal argument: decorators");return s(t)?function(t,e){delete e.clazz,delete e.uber,delete e.$callSuper;var i=void 0;if(-1!==P(e).indexOf("constructor")){var u=e.constructor;if(delete e.constructor,delete u.returns,t.$classdef.pythonic){var a=u.before;c(a)&&(u.before=function(t){return function(){var r=t.apply(this,n(arguments,1));return r&&r.unshift(this),r}}(a))}i=v(u,r,!0)}var f=A.extend(t,{init:i});return f.prototype=o(_(f.prototype),e),f}(t,e):o(t,e)}function v(n,t,r){if(c(n))return function(){return n.call(this,t,arguments)};var e=n.before||function(){return arguments},o=n.after||function(){},i=n.thrown||function(n){throw n},u=n.returns||function(n){return n};return function(){var n=void 0,c=e.apply(this,arguments)||arguments;try{n=t.apply(this,c),n=u.call(this,n)}catch(n){i.call(this,n)}return r?(o.call(this,this),this):(o.call(this,n),n)}}function b(n,t,r){z(n,t,{value:r,enumerable:!1,configurable:!1,writable:!1})}function w(n,t){for(var r in t)b(n,r,t[r])}function g(n,t,r){r.forEach(function(r){B(n,t,r)})}function $(n){var r=function(){var r=this,e=[r].concat(t(arguments));return n.apply(r,e)};return r.toString=function(){return n.toString()},r.valueOf=function(){return n},r}function O(i,u){1===arguments.length&&(c(i)?u={}:(u=i,i=A)),u||(u={});var a=u.init,s=u.statics,l=u.methods||{},p=u.props||{},h=u.pythonic="boolean"==typeof u.pythonic?u.pythonic:N.pythonic,y=u.name||"Class$"+G.toString(16);c(a)||(a=r),h&&(a=$(a));var d=i.prototype,v=function(n,t){return D[n]||(D[n]=new Function("init","return function "+n+"(){return init.apply(this, arguments);}")),D[n](t)}(y,a),b=v.prototype=_(d);w(b,{constructor:v,clazz:v,uber:d,$callSuper:function(r){var e=d[r];if(!c(e))throw new Error;var o=arguments[1];return f(o)||(o=n(arguments,1)),i.$classdef.pythonic?h||(o=[this].concat(t(o))):h&&(o=n(o,1)),e.apply(this,o)}}),w(v,{superclass:i,isAssignableFrom:o,$classdef:function(n,t){return I({},t.$classdef,n)}(u,i),extend:O.bind(v,v),decorate:m.bind(v,v)}),b.$super=function(t){var r=arguments;f(t)&&(r=h?n(t,1):t);var o=d;if(e(v,Array))this.push.apply(this,r);else{if(!o)return;if(o.$super){var i=o.$super;this.$super=function(){return i.apply(this,arguments)},o.clazz.apply(this,r),this.$super=i}else o.constructor.apply(this,r)}},function(n,t,r){t||(t={}),k(t,r),k(n,t)}(v,s,i);var E=P(p).concat(C(p));g(p,b,E);var j=P(l).concat(C(l));return h?j.forEach(function(n){var t=$(l[n]),r=F(l,n);r.get?r.get=function(){return t}:r.value=t,z(b,n,r)}):g(l,b,j),G++,v}function E(t,r){return O(t,function(t,r){var e=t.$classdef.pythonic;return O(t,{name:r,pythonic:e,init:e?function(){t.apply(this,n(arguments,1))}:function(){t.apply(this,arguments)}})}(r,r.name+"$"+t.name).$classdef)}function j(n,t){var r=arguments;switch(r.length){case 0:throw new Error("Illegal arguments");case 1:t=u(r[0])?{}:n;break;default:a(t)&&(t.name=n)}if(t){var e=t.name;if(!q.test(e))throw new Error("Invalid class name: "+e)}return O(A,t)}function S(){return this._name}function x(n,t){var r=_(n);return h(n).reduce(function(e,o){var i=n[o];return c(i)&&(e[o]=function(e){function o(){return t.call(r,n,e,arguments)}return o.toString=function(){return e.toString()},o}(i)),e},r)}var A=function(){},z=Object.defineProperty,P=Object.getOwnPropertyNames,_=Object.create,I=Object.assign,k=Object.setPrototypeOf||function(n,t){n.__proto__=t},F=Object.getOwnPropertyDescriptor,C=Object.getOwnPropertySymbols,D={},q=/^[a-z\$_][\w\$]*$/i,N={pythonic:!0},Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},B=function(n,t,r){var e=Object.getOwnPropertyDescriptor(n,r);a(e)&&z(t,r,e)},G=0,H=j("Enum",{pythonic:!1});return A.configure=function(n){return I(N,n||{}),A},A.isAssignableFrom=o,A.extend=O,A.newInstance=i,A.decorate=m,A.mix=function(n){return new function(n){this.with=function(){return Array.prototype.reduce.call(arguments,E,n)}}(n)},A.create=j,A.singleton=function(n,t,r){var e=void 0;switch(arguments.length){case 0:throw new Error("Illegal arguments");case 1:e=j(n);break;default:if(u(n))e=j(n,t);else{if(!c(n))throw new Error("Illegal arguments");e=O(n,t)}}return i(e,r)},A.isEnum=function(n){return e(n,H)},A.createEnum=function(n,t){if(p(n))n=n.reduce(function(n,t){return n[t]=[],n},{});else if(!l(n))throw new Error("illegal enum names : "+n);var r=[],e=H.extend(t).extend({props:{name:t?t.name:void 0},statics:{values:function(){return r},has:function(n){return e[n]instanceof H}}});for(var o in n){var i=n[o];if(!f(i)&&!p(i))throw new Error("invalid enum argument type, name:"+o+", args: "+i);var u=A.singleton(e,{props:{_name:o,name:o}},i);u.name=S,u.toString=S,b(e,o,u),r.push(u)}return e},A.proxy=function(n,t){if(!n)throw new Error("object is required");if(!c(t))throw new Error("handler is not a function");return s(n)?function(n,t){return n.extend({name:n.name,pythonic:n.$classdef.pythonic,init:function(){return this.$super(arguments),x(this,t)}})}(n,t):x(n,t)},A.members=h,A});
//# sourceMappingURL=Class.min.js.map
