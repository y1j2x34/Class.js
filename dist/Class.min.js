!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n.Class=n.Class||{},n.Class.min=n.Class.min||{},n.Class.min.js=t())}(this,function(){"use strict";function n(n,t){return Array.prototype.slice.call(n,t)}function t(t){return n(t,0)}function r(){this.$super(arguments)}function e(n,t){return!(!t||!n)&&(n===t||n.superclass===t||Object.create(n.prototype)instanceof t)}function o(n){return e(this,n)}function i(n,t){var r=Object.create(n.prototype);return n.apply(r,t),r}function u(n){return"string"==typeof n}function c(n){return"function"==typeof n}function a(n){return void 0!==n&&null!==n}function f(n){return n&&"[object Arguments]"===n.toString()}function s(n){return c(n)&&e(n,x)}function l(n){return null!==n&&"object"===(void 0===n?"undefined":D(n))}function p(n){return Array.isArray?Array.isArray(n):n instanceof Array}function h(n){var t={};return y(n).filter(function(n,t){return function(r){return n(r)&&t(r)}}(function(n){return!t[n]&&(t[n]=!0,!0)},d))}function y(n){return n===Object.prototype?[]:Object.keys(n).concat(y(Object.getPrototypeOf(n)))}function d(n){return"$super"!==n}function m(t,e){function o(n,t){var r=t["*"];delete t["*"];for(var e in t){var o=t[e],i=n[e];if(!c(i))throw new Error("You must decorate on a function");n[e]=v(o,i)}return r&&h(n).filter(function(r){return!t[r]&&c(n[r])}).forEach(function(t){n[t]=v(r,n[t])}),n}if(!t)throw new Error("cannot decorate on null or undefined");if(!e)throw new Error("decorators is undefined");if(!l(e))throw new Error("Illegal argument: decorators");return s(t)?function(t,e){delete e.clazz,delete e.uber,delete e.$callSuper;var i;if(-1!==z(e).indexOf("constructor")){var u=e.constructor;if(delete e.constructor,delete u.returns,t.$classdef.pythonic){var a=u.before;c(a)&&(u.before=function(t){return function(){var r=t.apply(this,n(arguments,1));return r&&r.unshift(this),r}}(a))}i=v(u,r,!0)}var f=x.extend(t,{init:i});return f.prototype=o(_(f.prototype),e),f}(t,e):o(t,e)}function v(n,t,r){if(c(n))return function(){return n.call(this,t,arguments)};var e=n.before||function(){return arguments},o=n.after||function(){},i=n.thrown||function(n){throw n},u=n.returns||function(n){return n};return function(){var n,c=e.apply(this,arguments)||arguments;try{n=t.apply(this,c),n=u.call(this,n)}catch(n){i.call(this,n)}return r?(o.call(this,this),this):(o.call(this,n),n)}}function b(n,t,r){A(n,t,{value:r,enumerable:!1,configurable:!1,writable:!1})}function w(n,t){for(var r in t)b(n,r,t[r])}function g(n){var r=function(){var r=this,e=[r].concat(t(arguments));return n.apply(r,e)};return r.toString=function(){return n.toString()},r.valueOf=function(){return n},r}function $(i,u){function a(n){return c(u[n])}1===arguments.length&&(c(i)?u={}:(u=i,i=x)),u||(u={});var s=u.init,l=u.statics,p=u.pythonic="boolean"==typeof u.pythonic?u.pythonic:q.pythonic,h=u.name||"Class$"+Y.toString(16);c(s)||(s=r),p&&(s=g(s));var y=z(u);y=y.filter(function(n){return!k[n]});var d=i.prototype,v=function(n,t){return P[n]||(P[n]=new Function("init","return function "+n+"(){return init.apply(this, arguments);}")),P[n](t)}(h,s),b=v.prototype=_(d);return w(b,{constructor:v,clazz:v,uber:d,$callSuper:function(r){var e=d[r];if(!c(e))throw new Error;var o=arguments[1];return f(o)||(o=n(arguments,1)),i.$classdef.pythonic?p||(o=[this].concat(t(o))):p&&(o=n(o,1)),e.apply(this,o)}}),w(v,{superclass:i,isAssignableFrom:o,$classdef:function(n,t){return C({},t.$classdef,n)}(u,i),extend:$.bind(v,v),decorate:m.bind(v,v)}),b.$super=function(t){var r=arguments;f(t)&&(r=p?n(t,1):t);var o=d;if(e(v,Array))this.push.apply(this,r);else{if(!o)return;if(o.$super){var i=o.$super;this.$super=function(){return i.apply(this,arguments)},o.clazz.apply(this,r),this.$super=i}else o.constructor.apply(this,r)}},function(n,t,r){t||(t={}),I(t,r),I(n,t)}(v,l,i),p&&(y.filter(a).forEach(function(n){b[n]=g(u[n])}),y=y.filter(function(n){return function(t){return!n(t)}}(a))),function(n,t,r){r.forEach(function(r){N(n,t,r)})}(u,b,y),Y++,v}function E(t,r){return $(t,function(t,r){var e=t.$classdef.pythonic;return $(t,{name:r,pythonic:e,init:e?function(){t.apply(this,n(arguments,1))}:function(){t.apply(this,arguments)}})}(r,r.name+"$"+t.name).$classdef)}function O(n,t){var r=arguments;switch(r.length){case 0:throw new Error("Illegal arguments");case 1:t=u(r[0])?{}:n;break;default:a(t)&&(t.name=n)}if(t){var e=t.name;if(!F.test(e))throw new Error("Invalid class name: "+e)}return $(x,t)}function j(){return this._name}function S(n,t){var r=_(n);return h(n).reduce(function(e,o){var i=n[o];return c(i)&&(e[o]=function(e){function o(){return t.call(r,n,e,arguments)}return o.toString=function(){return e.toString()},o}(i)),e},r)}var x=function(){},A=Object.defineProperty,z=Object.getOwnPropertyNames,_=Object.create,C=Object.assign,I=Object.setPrototypeOf||function(n,t){n.__proto__=t},P={},k={init:!0,statics:!0,pythonic:!0,name:!0},F=/^[a-z\$_][\w\$]*$/i,q={pythonic:!0},D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N=function(n,t,r){var e=Object.getOwnPropertyDescriptor(n,r);a(e)&&A(t,r,e)},Y=0,B=O("Enum",{pythonic:!1});return x.configure=function(n){return C(q,n||{}),x},x.isAssignableFrom=o,x.extend=$,x.newInstance=i,x.decorate=m,x.mix=function(n){return new function(n){this.with=function(){return Array.prototype.reduce.call(arguments,E,n)}}(n)},x.create=O,x.singleton=function(n,t,r){var e;switch(arguments.length){case 0:throw new Error("Illegal arguments");case 1:e=O(n);break;default:if(u(n))e=O(n,t);else{if(!c(n))throw new Error("Illegal arguments");e=$(n,t)}}return i(e,r)},x.isEnum=function(n){return e(n,B)},x.createEnum=function(n,t){if(p(n))n=n.reduce(function(n,t){return n[t]=[],n},{});else if(!l(n))throw new Error("illegal enum names : "+n);var r=[],e=B.extend(t).extend({name:t?t.name:void 0,statics:{values:function(){return r},has:function(n){return e[n]instanceof B}}});for(var o in n){var i=n[o];if(!f(i)&&!p(i))throw new Error("invalid enum argument type, name:"+o+", args: "+i);var u=x.singleton(e,{_name:o,name:o},i);u.name=j,u.toString=j,b(e,o,u),r.push(u)}return e},x.proxy=function(n,t){if(!n)throw new Error("object is required");if(!c(t))throw new Error("handler is not a function");return s(n)?function(n,t){return n.extend({name:n.name,pythonic:n.$classdef.pythonic,init:function(){return this.$super(arguments),S(this,t)}})}(n,t):S(n,t)},x.members=h,x});
//# sourceMappingURL=Class.min.js.map
